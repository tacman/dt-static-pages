/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/fos-routing@0.0.6/dist/routing.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function o(){var r=this;n(this,o),this.setRoutes=function(e){r.routesRouting=e||[]},this.getRoutes=function(){return r.routesRouting},this.setBaseUrl=function(e){r.contextRouting.base_url=e},this.getBaseUrl=function(){return r.contextRouting.base_url},this.setPrefix=function(e){r.contextRouting.prefix=e},this.setScheme=function(e){r.contextRouting.scheme=e},this.getScheme=function(){return r.contextRouting.scheme},this.setHost=function(e){r.contextRouting.host=e},this.getHost=function(){return r.contextRouting.host},this.buildQueryParams=function(e,n,o){var u=new RegExp(/\[]$/);n instanceof Array?n.forEach((function(n,i){u.test(e)?o(e,n):r.buildQueryParams(e+"["+("object"===("undefined"==typeof n?"undefined":t(n))?i:"")+"]",n,o)})):"object"===("undefined"==typeof n?"undefined":t(n))?Object.keys(n).forEach((function(t){return r.buildQueryParams(e+"["+t+"]",n[t],o)})):o(e,n)},this.getRoute=function(e){var t=r.contextRouting.prefix+e;if(!!r.routesRouting[t])return r.routesRouting[t];else if(!r.routesRouting[e])throw new Error('The route "'+e+'" does not exist.');return r.routesRouting[e]},this.generate=function(t,n,o){var u=r.getRoute(t),i=n||{},s=e({},i),c="_scheme",f="",a=!0,h="";if((u.tokens||[]).forEach((function(e){if("text"===e[0])return f=e[1]+f,void(a=!1);if("variable"===e[0]){var n=(u.defaults||{})[e[3]];if(!1==a||!n||(i||{})[e[3]]&&i[e[3]]!==u.defaults[e[3]]){var o;if((i||{})[e[3]])o=i[e[3]],delete s[e[3]];else if(n)o=u.defaults[e[3]];else{if(a)return;throw new Error('The route "'+t+'" requires the parameter "'+e[3]+'".')}var r=!0===o||!1===o||""===o;if(!r||!a){var c=encodeURIComponent(o).replace(/%2F/g,"/");"null"===c&&null===o&&(c=""),f=e[1]+c+f}a=!1}else n&&delete s[e[3]];return}throw new Error('The token type "'+e[0]+'" is not supported.')})),""==f&&(f="/"),(u.hosttokens||[]).forEach((function(e){var t;return"text"===e[0]?void(h=e[1]+h):void("variable"===e[0]&&((i||{})[e[3]]?(t=i[e[3]],delete s[e[3]]):u.defaults[e[3]]&&(t=u.defaults[e[3]]),h=e[1]+t+h))})),f=r.contextRouting.base_url+f,u.requirements[c]&&r.getScheme()!==u.requirements[c]?f=u.requirements[c]+"://"+(h||r.getHost())+f:h&&r.getHost()!==h?f=r.getScheme()+"://"+h+f:!0===o&&(f=r.getScheme()+"://"+r.getHost()+f),0<Object.keys(s).length){var l=[],g=function(e,t){var n=t;n="function"==typeof n?n():n,n=null===n?"":n,l.push(encodeURIComponent(e)+"="+encodeURIComponent(n))};Object.keys(s).forEach((function(e){return r.buildQueryParams(e,s[e],g)})),f=f+"?"+l.join("&").replace(/%20/g,"+")}return f},this.setData=function(e){r.setBaseUrl(e.base_url),r.setRoutes(e.routes),"prefix"in e&&r.setPrefix(e.prefix),r.setHost(e.host),r.setScheme(e.scheme)},this.contextRouting={base_url:"",prefix:"",host:"",scheme:""}};var r=new o;export{r as default};
