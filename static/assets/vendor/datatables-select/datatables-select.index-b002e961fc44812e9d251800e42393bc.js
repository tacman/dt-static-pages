/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/datatables-select@1.1.0/js/dataTables.select.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import e from"datatables";var t={exports:{}},l=t.exports=function(t,l){return t||(t=window),l&&l.fn.dataTable||(l=e(t,l).$),function(e,t,l,s){var c=e.fn.dataTable;function n(e,t,l){var s,c,n,a=function(t,l){if(t>l){var s=l;l=t,t=s}var c=!1;return e.columns(":visible").indexes().filter((function(e){return e===t&&(c=!0),e===l?(c=!1,!0):c}))},o=function(t,l){var s=e.rows({search:"applied"}).indexes();if(s.indexOf(t)>s.indexOf(l)){var c=l;l=t,t=c}var n=!1;return s.filter((function(e){return e===t&&(n=!0),e===l?(n=!1,!0):n}))};e.cells({selected:!0}).any()||l?(c=a(l.column,t.column),n=o(l.row,t.row)):(c=a(0,t.column),n=o(0,t.row)),s=e.cells(n,c).flatten(),e.cells(t,{selected:!0}).any()?e.cells(s).deselect():e.cells(s).select()}function a(t){var l=t.settings()[0],s=l._select.selector;"single"!==l._select.style&&e(t.table().header()).off("click.dtSelectall","th.select-checkbox"),e(t.table().body()).off("mousedown.dtSelect",s).off("mouseup.dtSelect",s).off("click.dtSelect",s),e("body").off("click.dtSelect")}function o(t){var l=e(t.table().body()),s=t.settings()[0],n=s._select.selector;"single"!==s._select.style&&e(t.table().header()).on("click.dtSelectall","th.select-checkbox",(function(t){var l=new c.Api(s);e(this).hasClass(s._select.className)?l.rows().deselect():l.rows().select()})),l.on("mousedown.dtSelect",n,(function(e){e.shiftKey&&l.css("-moz-user-select","none").one("selectstart.dtSelect",n,(function(){return!1}))})).on("mouseup.dtSelect",n,(function(e){l.css("-moz-user-select","")})).on("click.dtSelect",n,(function(s){var c,n=t.select.items(),a=t.settings()[0];if(e(s.target).closest("tbody")[0]==l[0]){var o=e(s.target).closest("td, th"),i=t.cell(o).index();t.cell(o).any()&&("row"===n?(c=i.row,m(s,t,a,"row",c)):"column"===n?(c=t.cell(o).index().column,m(s,t,a,"column",c)):"cell"===n&&(c=t.cell(o).index(),m(s,t,a,"cell",c)),a._select_lastCell=i)}})),e("body").on("click.dtSelect",(function(l){if(s._select.blurable){if(e(l.target).parents().filter(t.table().container()).length)return;if(e(l.target).parents("div.DTE").length)return;h(s,!0)}}))}function i(t,l,s,c){c&&!t.flatten().length||(s.unshift(t),e(t.table().node()).triggerHandler(l+".dt",s))}function r(t){var l=t.settings()[0];if(l._select.info&&l.aanFeatures.i){var s=e('<span class="select-info"/>'),c=function(l,c){s.append(e('<span class="select-item"/>').append(t.i18n("select."+l+"s",{_:"%d "+l+"s selected",0:"",1:"1 "+l+" selected"},c)))};c("row",t.rows({selected:!0}).flatten().length),c("column",t.columns({selected:!0}).flatten().length),c("cell",t.cells({selected:!0}).flatten().length),e.each(l.aanFeatures.i,(function(t,l){var c=(l=e(l)).children("span.select-info");c.length&&c.remove(),""!==s.text()&&l.append(s)}))}}function d(t){var l=new c.Api(t);"single"!==t._select.style&&t.aoHeaderCallback.push({fn:function(l){e(l).find("th.select-checkbox").addClass(t._select.selectAllClassName)}}),t.aoRowCreatedCallback.push({fn:function(l,s,c){var n,a,o=t.aoData[c];for(o._select_selected&&e(l).addClass(t._select.className),n=0,a=t.aoColumns.length;n<a;n++)(t.aoColumns[n]._select_selected||o._selected_cells&&o._selected_cells[n])&&e(o.anCells[n]).addClass(t._select.className)},sName:"select-deferRender"}),l.on("preXhr.dt.dtSelect",(function(){var e=l.rows({selected:!0}).ids(!0).filter((function(e){return e!==s})),t=l.cells({selected:!0}).eq(0).map((function(e){var t=l.row(e.row).id(!0);return t?{row:t,column:e.column}:s})).filter((function(e){return e!==s}));l.one("draw.dt.dtSelect",(function(){l.rows(e).select(),t.any()&&t.each((function(e){l.cells(e.row,e.column).select()}))}))})),l.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt",(function(){r(l)})),l.on("destroy.dtSelect",(function(){a(l),l.off(".dtSelect")}))}function u(t,l,s,c){var n=t[l+"s"]({search:"applied"}).indexes(),a=e.inArray(c,n),o=e.inArray(s,n);if(t[l+"s"]({selected:!0}).any()||-1!==a){if(a>o){var i=o;o=a,a=i}n.splice(o+1,n.length),n.splice(0,a)}else n.splice(e.inArray(s,n)+1,n.length);t[l](s,{selected:!0}).any()?(n.splice(e.inArray(s,n),1),t[l+"s"](n).deselect()):t[l+"s"](n).select()}function f(t,l){var s=!1,c=l.rows().count(),n=l.rows({selected:!0}).count();c&&(s=n===c);var a=e(t.aoHeader[0].nTr).find("th.select-checkbox");s?a.addClass(t._select.className):a.removeClass(t._select.className)}function h(e,t){if(t||"single"===e._select.style){var l=new c.Api(e);l.rows({selected:!0}).deselect(),l.columns({selected:!0}).deselect(),l.cells({selected:!0}).deselect()}}function m(e,t,l,s,c){var a=t.select.style(),o=t[s](c,{selected:!0}).any();if("os"===a)if(e.ctrlKey||e.metaKey)t[s](c).select(!o);else if(e.shiftKey)"cell"===s?n(t,c,l._select_lastCell||null):u(t,s,c,l._select_lastCell?l._select_lastCell[s]:null);else{var i=t[s+"s"]({selected:!0});o&&1===i.flatten().length?t[s](c).deselect():(i.deselect(),t[s](c).select())}else t[s](c).select(!o)}c.select={},c.select.version="1.1.0",c.select.init=function(t){var l=t.settings()[0],n=l.oInit.select||c.defaults.select,a="row",o="api",i=!1,r=!0,d="td, th",u="selected",f="select-all";l._select={},!0===n?o="os":"string"==typeof n?o=n:e.isPlainObject(n)&&(n.blurable!==s&&(i=n.blurable),n.info!==s&&(r=n.info),n.items!==s&&(a=n.items),n.style!==s&&(o=n.style),n.selector!==s&&(d=n.selector),n.className!==s&&(u=n.className)),t.select.selector(d),t.select.items(a),t.select.style(o),t.select.blurable(i),t.select.info(r),l._select.className=u,l._select.selectAllClassName=f,e(t.table().node()).hasClass("selectable")&&t.select.style("os")},e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],(function(e,t){c.ext.selector[t.type].push((function(e,l,c){var n,a=l.selected,o=[];if(a===s)return c;for(var i=0,r=c.length;i<r;i++)n=e[t.prop][c[i]],(!0===a&&!0===n._select_selected||!1===a&&!n._select_selected)&&o.push(c[i]);return o}))})),c.ext.selector.cell.push((function(e,t,l){var c,n=t.selected,a=[];if(n===s)return l;for(var o=0,i=l.length;o<i;o++)c=e.aoData[l[o].row],(!0===n&&c._selected_cells&&!0===c._selected_cells[l[o].column]||!1===n&&(!c._selected_cells||!c._selected_cells[l[o].column]))&&a.push(l[o]);return a}));var _=c.Api.register,b=c.Api.registerPlural;function v(e,t){return function(l){return l.i18n("buttons."+e,t)}}return _("select()",(function(){return this.iterator("table",(function(e){c.select.init(new c.Api(e))}))})),_("select.blurable()",(function(e){return e===s?this.context[0]._select.blurable:this.iterator("table",(function(t){t._select.blurable=e}))})),_("select.info()",(function(e){return r===s?this.context[0]._select.info:this.iterator("table",(function(t){t._select.info=e}))})),_("select.items()",(function(e){return e===s?this.context[0]._select.items:this.iterator("table",(function(t){t._select.items=e,i(new c.Api(t),"selectItems",[e])}))})),_("select.style()",(function(e){return e===s?this.context[0]._select.style:this.iterator("table",(function(t){t._select.style=e,t._select_init||d(t);var l=new c.Api(t);a(l),"api"!==e&&o(l),i(new c.Api(t),"selectStyle",[e])}))})),_("select.selector()",(function(e){return e===s?this.context[0]._select.selector:this.iterator("table",(function(t){a(new c.Api(t)),t._select.selector=e,"api"!==t._select.style&&o(new c.Api(t))}))})),b("rows().select()","row().select()",(function(t){var l=this;return!1===t?this.deselect():(this.iterator("row",(function(t,l){h(t),t.aoData[l]._select_selected=!0,e(t.aoData[l].nTr).addClass(t._select.className)})),this.iterator("table",(function(e,t){"single"!==e._select.style&&f(e,l),i(l,"select",["row",l[t]],!0)})),this)})),b("columns().select()","column().select()",(function(t){var l=this;return!1===t?this.deselect():(this.iterator("column",(function(t,l){h(t),t.aoColumns[l]._select_selected=!0;var s=new c.Api(t).column(l);e(s.header()).addClass(t._select.className),e(s.footer()).addClass(t._select.className),s.nodes().to$().addClass(t._select.className)})),this.iterator("table",(function(e,t){i(l,"select",["column",l[t]],!0)})),this)})),b("cells().select()","cell().select()",(function(t){var l=this;return!1===t?this.deselect():(this.iterator("cell",(function(t,l,c){h(t);var n=t.aoData[l];n._selected_cells===s&&(n._selected_cells=[]),n._selected_cells[c]=!0,n.anCells&&e(n.anCells[c]).addClass(t._select.className)})),this.iterator("table",(function(e,t){i(l,"select",["cell",l[t]],!0)})),this)})),b("rows().deselect()","row().deselect()",(function(){var t=this;return this.iterator("row",(function(t,l){t.aoData[l]._select_selected=!1,e(t.aoData[l].nTr).removeClass(t._select.className)})),this.iterator("table",(function(e,l){"single"!==e._select.style&&f(e,t),i(t,"deselect",["row",t[l]],!0)})),this})),b("columns().deselect()","column().deselect()",(function(){var t=this;return this.iterator("column",(function(t,l){t.aoColumns[l]._select_selected=!1;var s=new c.Api(t),n=s.column(l);e(n.header()).removeClass(t._select.className),e(n.footer()).removeClass(t._select.className),s.cells(null,l).indexes().each((function(l){var s=t.aoData[l.row],c=s._selected_cells;!s.anCells||c&&c[l.column]||e(s.anCells[l.column]).removeClass(t._select.className)}))})),this.iterator("table",(function(e,l){i(t,"deselect",["column",t[l]],!0)})),this})),b("cells().deselect()","cell().deselect()",(function(){var t=this;return this.iterator("cell",(function(t,l,s){var c=t.aoData[l];c._selected_cells[s]=!1,c.anCells&&!t.aoColumns[s]._select_selected&&e(c.anCells[s]).removeClass(t._select.className)})),this.iterator("table",(function(e,l){i(t,"deselect",["cell",t[l]],!0)})),this})),e.extend(c.ext.buttons,{selected:{text:v("selected","Selected"),className:"buttons-selected",init:function(e,t,l){var s=this;e.on("draw.dt.DT select.dt.DT deselect.dt.DT",(function(){var e=s.rows({selected:!0}).any()||s.columns({selected:!0}).any()||s.cells({selected:!0}).any();s.enable(e)})),this.disable()}},selectedSingle:{text:v("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(e,t,l){var s=this;e.on("draw.dt.DT select.dt.DT deselect.dt.DT",(function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;s.enable(1===t)})),this.disable()}},selectAll:{text:v("selectAll","Select all"),className:"buttons-select-all",action:function(){this[this.select.items()+"s"]().select()}},selectNone:{text:v("selectNone","Deselect all"),className:"buttons-select-none",action:function(){h(this.settings()[0],!0)},init:function(e,t,l){var s=this;e.on("draw.dt.DT select.dt.DT deselect.dt.DT",(function(){var t=e.rows({selected:!0}).flatten().length+e.columns({selected:!0}).flatten().length+e.cells({selected:!0}).flatten().length;s.enable(t>0)})),this.disable()}}}),e.each(["Row","Column","Cell"],(function(e,t){var l=t.toLowerCase();c.ext.buttons["select"+t+"s"]={text:v("select"+t+"s","Select "+l+"s"),className:"buttons-select-"+l+"s",action:function(){this.select.items(l)},init:function(e,t,s){var c=this;e.on("selectItems.dt.DT",(function(e,t,s){c.active(s===l)}))}}})),e(l).on("preInit.dt.dtSelect",(function(e,t){"dt"===e.namespace&&c.select.init(new c.Api(t))})),c.select}(l,0,t.document)};
/*! Select for DataTables 1.1.0
 * 2015 SpryMedia Ltd - datatables.net/license/mit
 */export{l as default};
